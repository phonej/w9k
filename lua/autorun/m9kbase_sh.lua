local RPlayer = debug.getregistry().Player 
local REntity = debug.getregistry().Entity 
W9KBASE_Installed = true 
game.AddParticles( "particles/Magenta_Tracers.pcf" ) 
game.AddParticles( "particles/Magenta_Weapons.pcf" ) 
game.AddParticles( "particles/Magenta_Explosives.pcf" ) 
game.AddParticles( "particles/Magenta_PheonixBlood.pcf" ) 
PrecacheParticleSystem("Weaponry_AfterSmoke_FX") 
PrecacheParticleSystem("Weaponry_AfterSmoke_FX_Small") 
PrecacheParticleSystem("Weaponry_Melee_Sparks") 
PrecacheParticleSystem("Weaponry_FireFX") 
PrecacheParticleSystem("Weaponry_FireFX_Small") 
PrecacheParticleSystem("Weaponry_FireFX_Large") 
PrecacheParticleSystem("Weaponry_EjectFX") 
PrecacheParticleSystem("VIEW_Weaponry_AfterSmoke_FX") PrecacheParticleSystem("VIEW_Weaponry_AfterSmoke_FX_Small") PrecacheParticleSystem("VIEW_Weaponry_FireFX") PrecacheParticleSystem("VIEW_Weaponry_FireFX_Small") PrecacheParticleSystem("VIEW_Weaponry_FireFX_Large") PrecacheParticleSystem("VIEW_Weaponry_EjectFX") PrecacheParticleSystem("Explosives_Grenade_Trail") PrecacheParticleSystem("Explosives_Grenade_Explode") PrecacheParticleSystem("Large_Explosives_Grenade_Explode") PrecacheParticleSystem("Weaponry_ShellSmoke") PrecacheParticleSystem("Weaponry_ShellSmoke_Medium") PrecacheParticleSystem("Weaponry_ShellSmoke_Large") PrecacheParticleSystem("Weaponry_Tracer") PrecacheParticleSystem("Weaponry_Tracer_Pellet") PrecacheParticleSystem("Weaponry_Tracer_Penetrate") PrecacheParticleSystem("Weaponry_Tracer_Penetrate_Pellet") PrecacheParticleSystem("Signal_FlareGun") PrecacheParticleSystem("Signal_FlareFire") PrecacheParticleSystem("Signal_FlareHE") PrecacheParticleSystem("FlareFire_Explosion") PrecacheParticleSystem("blood_impact_red_01") game.AddDecal( "Karambit_Slash", "Magenta/Decals/KarambitDecal" ) sound.AddSoundOverrides( "lua/sounds/magenta/M_Generic.lua" ) sound.AddSoundOverrides( "lua/sounds/magenta/M_FlareGun.lua" ) sound.AddSoundOverrides( "lua/sounds/magenta/M_F1Grenade.lua" ) sound.AddSoundOverrides( "lua/sounds/magenta/M_PheonixBlood.lua" ) sound.AddSoundOverrides( "lua/sounds/magenta/M_TrenchGun.lua" ) sound.AddSoundOverrides( "lua/sounds/magenta/M_Thompson.lua" ) sound.AddSoundOverrides( "lua/sounds/magenta/M_M1Carbine.lua" ) sound.AddSoundOverrides( "lua/sounds/magenta/M_MosinNagant.lua" ) sound.AddSoundOverrides( "lua/sounds/magenta/M_M1Garand.lua" ) sound.AddSoundOverrides( "lua/sounds/magenta/M_Enfield.lua" ) sound.AddSoundOverrides( "lua/sounds/magenta/M_Parachute.lua" ) sound.AddSoundOverrides( "lua/sounds/magenta/M_Nambu.lua" ) sound.AddSoundOverrides( "lua/sounds/magenta/M_Browning.lua" ) sound.AddSoundOverrides( "lua/sounds/magenta/M_Karambit.lua" ) function AngleRand() return Angle(math.random(-1,1),math.random(-1,1),math.random(-1,1)) end local ENTS_Unkillable = { "npc_helicopter", "npc_combinegunship", "npc_gunship", "npc_strider"} function REntity:UnKillable() if not IsValid(self) then return false end local Class = self:GetClass() if table.HasValue( ENTS_Unkillable, Class ) then return true end return false end function REntity:W9KBASECenter() if not IsValid(self) then return end return self:LocalToWorld(self:OBBCenter()) end function GetNPCS() local TB = {} local ENTS = ents.GetAll() for _,v in pairs (ENTS) do if v:IsNPC() and v:Health() > 0 then table.insert(TB,v) end end return TB end function IsPVP() return (GetConVarNumber("sbox_playershurtplayers") >= 1) end function REntity:IsProp() if self:GetClass() == "prop_physics" or self:GetClass() == "prop_physics_multiplayer" then return true else return false end end function REntity:GetNPCSize() local OBB = self:OBBMaxs() local Size = 0 Size = Size + OBB.x Size = Size + OBB.y Size = Size + OBB.z return Size end function IsSB() return (GAMEMODE.Name == "Sandbox") end function REntity:SetSharedFloat( var, float ) if CLIENT then return end local VR = var local FLT = float self[tostring(VR)] = FLT if SERVER then net.Start("W9KBASE_SharedFloat") net.WriteEntity(self) net.WriteString(VR) net.WriteFloat(FLT) net.Broadcast() end end function REntity:SetSharedBool( var, bool ) if CLIENT then return end local VR = var local BL = bool self[tostring(VR)] = BL if SERVER then net.Start("W9KBASE_SharedBool") net.WriteEntity(self) net.WriteString(VR) net.WriteBit(BL) net.Broadcast() end end function REntity:SetSharedVector( var, vector ) if CLIENT then return end local VR = var local VEC = vector self[tostring(VR)] = VEC if SERVER then net.Start("W9KBASE_SharedVector") net.WriteEntity(self) net.WriteString(VR) net.WriteVector(VEC) net.Broadcast() end end function REntity:SetSharedAngle( var, angle ) if CLIENT then return end local VR = var local ANG = angle self[tostring(VR)] = ANG if SERVER then net.Start("W9KBASE_SharedAngle") net.WriteEntity(self) net.WriteString(VR) net.WriteAngle(ANG) net.Broadcast() end end function REntity:SetSharedString( var, strng ) if CLIENT then return end local VR = var local STR = strng self[tostring(VR)] = STR if SERVER then net.Start("W9KBASE_SharedString") net.WriteEntity(self) net.WriteString(VR) net.WriteString(STR) net.Broadcast() end end function W9KBASE_UseKey( ply, key ) local WEP = ply:GetActiveWeapon() if key == IN_USE and IsValid(WEP) and WEP.UseAnimation and not WEP.TV_Safety and not WEP.TV_Control then WEP:UseAnimation() end end hook.Add("KeyPress","W9KBASE_UseKeyHook",W9KBASE_UseKey) function W9KBASE_Movement( ply, move ) local FWD = move:GetForwardSpeed() local SID = move:GetSideSpeed() local WEP = ply:GetActiveWeapon() if IsValid(WEP) and WEP.IsWeaponControl and WEP:IsWeaponControl() then if FWD >= 100 then move:SetForwardSpeed(100) elseif FWD <= -100 then move:SetForwardSpeed(-100) end if SID >= 75 then move:SetSideSpeed(75) elseif SID <= -75 then move:SetSideSpeed(-75) end end end hook.Add("Move","W9KBASE_MovementHook",W9KBASE_Movement) local Limit_Suicide = CreateConVar("MCPB_Suicide", 1, {FCVAR_ARCHIVE,FCVAR_NOTIFY,FCVAR_REPLICATED}) function W9KBASE_CanSuicide( ply ) local WEP = ply:GetActiveWeapon() if IsValid(WEP) and WEP.ToggleSuicide then WEP:ToggleSuicide() end if Limit_Suicide:GetBool() then return false end end hook.Add("CanPlayerSuicide","W9KBASE_CanSuicideHook",W9KBASE_CanSuicide)
 
--i would fuck fidget
